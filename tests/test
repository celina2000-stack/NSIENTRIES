import { test, expect } from '@playwright/test';

test('test', async ({ page }) => {//This Insurance Already exists for this Company!
  await page.goto('https://mnev2qa.exolutus.com/Account/Login');
  await page.getByRole('textbox', { name: 'User name or email' }).click();
  await page.getByRole('textbox', { name: 'User name or email' }).fill('admin');
  await page.getByRole('textbox', { name: 'Password' }).click();
  await page.getByRole('textbox', { name: 'Password' }).fill('Apple1$#');
  await page.getByRole('textbox', { name: 'Password' }).press('Enter');
  await page.getByRole('menuitem', { name: ' Setup ' }).click();
  await page.getByRole('menuitem', { name: ' HR Module Setup ' }).click();
  await page.getByRole('menuitem', { name: ' Insurances' }).click();
  await page.getByRole('button', { name: ' Create new insurance' }).click();
  await page.locator('#configChoiceInsuranceTypeId').selectOption('3765');
  await page.getByRole('textbox', { name: 'Insurance Company Name' }).click();
  await page.getByRole('textbox', { name: 'Insurance Company Name' }).fill('test company');
  await page.getByRole('textbox', { name: 'PAN No.' }).click();
  await page.getByRole('textbox', { name: 'PAN No.' }).fill('1234');
  await page.getByRole('textbox', { name: 'Company Email' }).click();
  await page.getByRole('textbox', { name: 'Company Email' }).fill('test@gmail.com');
  await page.getByRole('textbox', { name: 'Company Phone' }).click();
  await page.getByRole('textbox', { name: 'Company Phone' }).fill('12345');
  await page.getByRole('textbox', { name: 'Company Address' }).click();
  await page.getByRole('textbox', { name: 'Company Address' }).fill('Lalitpur');
  await page.getByRole('button', { name: ' Save' }).click();
  await page.getByRole('textbox', { name: 'Company Phone' }).click();
  await page.getByRole('textbox', { name: 'Company Phone' }).fill('9841123409');
  await page.getByRole('button', { name: ' Save' }).click();
  await page.getByRole('textbox', { name: 'Company Phone' }).click();
  await page.getByRole('textbox', { name: 'Company Phone' }).fill('01-4245799');
  await page.getByRole('button', { name: ' Save' }).click();
  await page.getByRole('row', { name: '+  Actions  Accidental Insurance test company 1234 test@gmail.com' }).getByRole('button').click();
  await page.getByRole('link', { name: 'Edit' }).click();
  await page.getByRole('button', { name: 'Cancel' }).click();
  await page.getByRole('row', { name: '+  Actions  Accidental Insurance test company 1234 test@gmail.com' }).getByRole('button').click();
  await page.getByRole('link', { name: 'View' }).click();
  await page.getByRole('button', { name: 'Close' }).click();
  await page.getByRole('row', { name: '+  Actions  Accidental Insurance test company 1234 test@gmail.com' }).getByRole('button').click();
  await page.getByRole('link', { name: 'Delete' }).click();
  await page.getByRole('button', { name: 'Yes' }).click();
});